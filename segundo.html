<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CredOn | Future Finance</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600&family=Sora:wght@400;600;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-deep: #050505;
            --primary: #3B82F6;
            --accent: #06B6D4;
            --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-main: #ffffff;
            --text-muted: #9ca3af;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: 'Manrope', sans-serif;
            overflow-x: hidden;
            width: 100%;
        }

        /* --- Three.js Container (Fixo no fundo) --- */
        #webgl-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #0f172a 0%, #000000 100%);
        }

        /* --- Header --- */
        header {
            position: fixed;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 1000px;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 2rem;
            background: rgba(10, 10, 10, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 100px;
        }

        .logo { font-family: 'Sora'; font-weight: 800; font-size: 1.4rem; color: white; }
        .logo span { color: var(--primary); }

        .btn-nav {
            background: white;
            color: black;
            padding: 0.6rem 1.4rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 0.9rem;
            text-decoration: none;
            transition: 0.3s;
        }
        .btn-nav:hover { transform: scale(1.05); }

        /* --- Hero Section (Altura total) --- */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 5%;
        }

        h1 {
            font-family: 'Sora';
            font-size: clamp(3.5rem, 8vw, 6rem);
            font-weight: 800;
            line-height: 1;
            margin-bottom: 1.5rem;
            background: linear-gradient(180deg, #FFFFFF 0%, #64748B 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-muted);
            max-width: 600px;
            margin-bottom: 2rem;
        }

        .scroll-down {
            position: absolute;
            bottom: 40px;
            opacity: 0.6;
            animation: bounce 2s infinite;
        }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(10px); } }

        /* --- Content Section (Vertical) --- */
        .content-section {
            padding: 8rem 5%;
            position: relative;
            z-index: 2;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 { font-size: 3rem; font-family: 'Sora'; margin-bottom: 1rem; }
        
        /* Grid Bento Vertical */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .bento-card {
            background: rgba(15, 15, 20, 0.4); /* Mais transparente para ver a bolha */
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 32px;
            padding: 2.5rem;
            transition: 0.4s;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 450px;
        }

        .bento-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            background: rgba(20, 20, 30, 0.6);
        }

        .bento-wide { grid-column: 1 / -1; } /* Card que ocupa tudo */

        .card-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 20px;
            margin-bottom: 1.5rem;
            filter: grayscale(100%);
            transition: 0.5s;
        }
        .bento-card:hover .card-img { filter: grayscale(0%); }

        .card-content h3 { font-family: 'Sora'; font-size: 1.8rem; margin-bottom: 1rem; }
        .card-content p { color: var(--text-muted); line-height: 1.6; }

        /* --- Calculator --- */
        .calc-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        input[type=range] {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 3px;
            appearance: none;
            margin: 1.5rem 0;
        }
        
        input[type=range]::-webkit-slider-thumb {
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            border: 4px solid #000;
            cursor: pointer;
            transition: 0.2s;
        }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }

        .result-box {
            text-align: center;
            background: rgba(255,255,255,0.05);
            padding: 2rem;
            border-radius: 24px;
            border: 1px solid var(--glass-border);
        }

        .big-price { font-size: 3.5rem; font-family: 'Sora'; color: var(--accent); display: block; margin: 0.5rem 0; }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 4rem 0;
            border-top: 1px solid var(--glass-border);
            color: var(--text-muted);
            background: black;
            position: relative;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .calc-container { grid-template-columns: 1fr; }
            h1 { font-size: 3rem; }
        }
    </style>
</head>
<body>

    <div id="webgl-container"></div>

    <header>
        <div class="logo">Cred<span>On</span></div>
        <a href="#simulador" class="btn-nav">Simular</a>
    </header>

    <main>
        <section class="hero">
            <h1 class="gsap-hero">Crédito<br>Sem Limites</h1>
            <p class="gsap-hero">Soluções financeiras que se moldam à sua realidade. Garantia imobiliária, crédito empresarial e limpeza de nome.</p>
            <div class="scroll-down">
                <i class="fas fa-chevron-down"></i>
            </div>
        </section>

        <section class="content-section" id="solucoes">
            <div class="section-header gsap-fade">
                <h2>Nossas Soluções</h2>
                <p>Tecnologia e capital para impulsionar sua vida.</p>
            </div>

            <div class="bento-grid">
                <div class="bento-card gsap-fade">
                    <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1973&auto=format&fit=crop" class="card-img" alt="Casa">
                    <div class="card-content">
                        <h3>Garantia Imobiliária</h3>
                        <p>Use seu imóvel para desbloquear crédito com taxas a partir de 0.99% a.m.</p>
                    </div>
                </div>

                <div class="bento-card gsap-fade">
                    <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=1469&auto=format&fit=crop" class="card-img" alt="Empresa">
                    <div class="card-content">
                        <h3>Crédito Empresarial</h3>
                        <p>Capital de giro rápido para expandir sua operação sem burocracia excessiva.</p>
                    </div>
                </div>

                <div class="bento-card bento-wide gsap-fade" id="simulador">
                    <div class="calc-container">
                        <div>
                            <h3 style="font-family:'Sora'; margin-bottom: 1rem;">Simulador</h3>
                            <p style="margin-bottom: 2rem;">Veja como fica sua parcela em tempo real.</p>
                            
                            <div style="display:flex; justify-content:space-between; font-weight:600;">
                                <span>Valor</span>
                                <span id="val-display" style="color:var(--primary)">R$ 50.000</span>
                            </div>
                            <input type="range" min="5000" max="500000" step="1000" value="50000" id="range-val">

                            <div style="display:flex; justify-content:space-between; font-weight:600; margin-top:1rem;">
                                <span>Prazo</span>
                                <span id="month-display" style="color:var(--primary)">60 meses</span>
                            </div>
                            <input type="range" min="12" max="240" step="12" value="60" id="range-month">
                        </div>

                        <div class="result-box">
                            <span>Parcela Estimada</span>
                            <span class="big-price" id="result-total">R$ 1.250</span>
                            <p style="font-size:0.9rem; opacity:0.7;">Taxa ref. 1.5% a.m.</p>
                            <a href="#" class="btn-nav" style="background: var(--primary); color: white; display: inline-block; margin-top: 1rem; width: 100%; text-align: center; border:none;">Solicitar Agora</a>
                        </div>
                    </div>
                </div>

                 <div class="bento-card bento-wide gsap-fade" style="flex-direction: row; align-items: center; gap: 2rem;">
                    <div style="flex:1;">
                        <h3>Limpa Nome</h3>
                        <p>Recupere seu poder de compra removendo apontamentos de forma legal e segura.</p>
                    </div>
                    <div style="flex:1;">
                         <img src="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?q=80&w=1470&auto=format&fit=crop" class="card-img" style="margin:0; height: 150px;" alt="Docs">
                    </div>
                </div>

            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 CredOn. Todos os direitos reservados.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        // ==========================================
        // 1. THREE.JS - SISTEMA DE PARTÍCULAS
        // ==========================================
        const container = document.getElementById('webgl-container');
        const scene = new THREE.Scene();
        
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 30;

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Otimização
        container.appendChild(renderer.domElement);

        // --- Configuração das Partículas ---
        const particlesCount = 2500;
        const geometry = new THREE.BufferGeometry();
        
        // Criamos arrays para armazenar 2 posições para CADA partícula
        const initialPositions = new Float32Array(particlesCount * 3); // Estado Aleatório (Hero)
        const targetPositions = new Float32Array(particlesCount * 3);  // Estado Esfera (Scroll Down)
        const currentPositions = new Float32Array(particlesCount * 3); // O que é renderizado

        // Preencher os arrays
        for (let i = 0; i < particlesCount; i++) {
            const i3 = i * 3;

            // 1. Estado Aleatório (Espalhado pela tela)
            initialPositions[i3] = (Math.random() - 0.5) * 120;     // X
            initialPositions[i3 + 1] = (Math.random() - 0.5) * 80;  // Y
            initialPositions[i3 + 2] = (Math.random() - 0.5) * 80;  // Z

            // 2. Estado Esfera (Matemática esférica)
            const radius = 12;
            const phi = Math.acos(-1 + (2 * i) / particlesCount);
            const theta = Math.sqrt(particlesCount * Math.PI) * phi;

            targetPositions[i3] = radius * Math.cos(theta) * Math.sin(phi);
            targetPositions[i3 + 1] = radius * Math.sin(theta) * Math.sin(phi);
            targetPositions[i3 + 2] = radius * Math.cos(phi);

            // Começamos no estado inicial
            currentPositions[i3] = initialPositions[i3];
            currentPositions[i3+1] = initialPositions[i3+1];
            currentPositions[i3+2] = initialPositions[i3+2];
        }

        geometry.setAttribute('position', new THREE.BufferAttribute(currentPositions, 3));

        // Textura "bolinha de luz"
        const sprite = new THREE.TextureLoader().load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/sprites/disc.png');
        
        const material = new THREE.PointsMaterial({
            size: 0.2,
            color: 0x3B82F6,
            map: sprite,
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending,
            depthWrite: false
        });

        const particlesMesh = new THREE.Points(geometry, material);
        scene.add(particlesMesh);

        // ==========================================
        // 2. INTERAÇÃO E ANIMAÇÃO (GSAP)
        // ==========================================
        gsap.registerPlugin(ScrollTrigger);

        // Objeto para controlar o progresso da transformação (0 = Caos, 1 = Bolha)
        const animationState = { progress: 0 };

        // ScrollTrigger: Ao descer da Hero para o Conteúdo, transforme em bolha
        ScrollTrigger.create({
            trigger: ".hero",
            start: "top top",
            end: "bottom top", // Quando a hero sumir
            scrub: 1.5, // Suavidade extrema
            onUpdate: (self) => {
                animationState.progress = self.progress;
            }
        });

        // Efeito de Parallax suave no mouse
        let mouseX = 0;
        let mouseY = 0;
        document.addEventListener('mousemove', (e) => {
            mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
            mouseY = -(e.clientY / window.innerHeight - 0.5) * 2;
        });

        // ==========================================
        // 3. LOOP DE RENDERIZAÇÃO
        // ==========================================
        const clock = new THREE.Clock();

        const tick = () => {
            const time = clock.getElapsedTime();
            
            // Acessa as posições para atualizar
            const positions = particlesMesh.geometry.attributes.position.array;

            for (let i = 0; i < particlesCount; i++) {
                const i3 = i * 3;

                // 1. Lerp (Interpolação Linear) entre Estado Inicial e Estado Esfera
                // Se progress = 0, usa initial. Se progress = 1, usa target.
                const x = initialPositions[i3] + (targetPositions[i3] - initialPositions[i3]) * animationState.progress;
                const y = initialPositions[i3+1] + (targetPositions[i3+1] - initialPositions[i3+1]) * animationState.progress;
                const z = initialPositions[i3+2] + (targetPositions[i3+2] - initialPositions[i3+2]) * animationState.progress;

                // 2. Adicionar "Noise" (Movimento líquido)
                // Quanto mais perto da bolha (progress 1), mais suave o movimento
                const wave = Math.sin(time * 2 + x * 0.5) * 0.2; // Onda senoidal
                
                positions[i3] = x + wave;
                positions[i3+1] = y + wave;
                positions[i3+2] = z;
            }

            particlesMesh.geometry.attributes.position.needsUpdate = true;

            // Rotação suave da cena inteira
            particlesMesh.rotation.y += 0.002;
            
            // Reação ao Mouse
            particlesMesh.rotation.x += (mouseY * 0.2 - particlesMesh.rotation.x) * 0.05;
            particlesMesh.rotation.y += (mouseX * 0.2 - particlesMesh.rotation.y) * 0.05;

            renderer.render(scene, camera);
            window.requestAnimationFrame(tick);
        }

        tick();

        // Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // ==========================================
        // 4. ANIMAÇÕES DE CONTEÚDO (FADE UP)
        // ==========================================
        gsap.utils.toArray('.gsap-fade').forEach(element => {
            gsap.from(element, {
                scrollTrigger: {
                    trigger: element,
                    start: "top 85%",
                },
                y: 50,
                opacity: 0,
                duration: 1,
                ease: "power3.out"
            });
        });

        // ==========================================
        // 5. CALCULADORA
        // ==========================================
        const valSlider = document.getElementById('range-val');
        const monthSlider = document.getElementById('range-month');
        const valDisplay = document.getElementById('val-display');
        const monthDisplay = document.getElementById('month-display');
        const totalDisplay = document.getElementById('result-total');

        function updateCalc() {
            const val = parseFloat(valSlider.value);
            const months = parseInt(monthSlider.value);
            const rate = 0.015;

            valDisplay.textContent = val.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
            monthDisplay.textContent = months + " meses";

            const x = Math.pow(1 + rate, months);
            const monthly = (val * x * rate) / (x - 1);
            
            totalDisplay.textContent = monthly.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }

        valSlider.addEventListener('input', updateCalc);
        monthSlider.addEventListener('input', updateCalc);
        updateCalc();

    </script>
</body>
</html>